<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Booking app</title>
</head>
<body>
    <form onsubmit="saveToLocalStorage()">
    <label>Name :</label> 
    <input type="text" name="username" required/><br><br>
    <label>Email :</label> 
    <input type="email" name="emailId" required/><br><br>
    <label>Phone Number :</label> 
    <input type="tel" name="phonenumber" required/><br><br>
    <input type="button" value="delete">
    <input type="button" value="editButton">
<button>Submit</button>
    </form>
    <ul id="listOfitems"> 
    <li>Divya Joshi  joshidivya#gmail.com  7788848388</li>
    <li>vidya Joshi  joshivya#gmail.com  7788858388</li>
</ul>
    <script>
        function saveToLocalStorage(event){
            event.preventDefault();
            const name =event.target.username.value;
            const email =event.target.email.value;
            const phonenumber =event.target.phonenumber.value;
localStorage.setItem('name',name);
localStorage.setItem('email',email);
localStorage.setItem('phonenumber',phonenumber);

const obj={
    name,
    email,
    phonenumber
}
localStorage.setItem(obj.email,JSON.stringify(obj))
showUserOnScreen(obj);
        }
        function showUserOnScreen(obj) {
  const parentElem = document.getElementById('listOfitems');

  // Check if the user is already in the list
  const existingUser = document.getElementById(obj.email);
  if (existingUser) {
    // Update the user's information
    existingUser.textContent = obj.name + ' - ' + obj.email + ' - ' + obj.phonenumber;
  } else {
    // Create a new list item
    const childElem = document.createElement('li');
    childElem.setAttribute('id', obj.email);

    // Create a delete button
    const deleteButton = document.createElement('button');
    deleteButton.textContent = 'Delete';
    deleteButton.addEventListener('click', function() {
      deleteUser(obj.email);
      parentElem.removeChild(childElem);
    });

    // Create an edit button
    const editButton = document.createElement('editButton');
    editButton.textContent = 'Edit';
    editButton.addEventListener('click', function() {
      // Populate the form with the user's information
      document.querySelector('input[name="username"]').value = obj.name;
      document.querySelector('input[name="emailId"]').value = obj.email;
      document.querySelector('input[name="phonenumber"]').value = obj.phonenumber;

      // Remove the existing list item
      parentElem.removeChild(childElem);
      localStorage.removeItem(obj.email);
    });

    // Add the user's information and buttons to the list item
    childElem.textContent = obj.name + ' - ' + obj.email + ' - ' + obj.phonenumber;
    childElem.appendChild(deleteButton);
    childElem.appendChild(editButton);
    parentElem.appendChild(childElem);
  }
}


// function showUserOnScreen(obj)
// {

// const parentELem=document.getElementById('listOfitems');
// const childElem=document.createElement('li');

// childElem.textContent= obj.name + ' - ' + obj.email + ' - ' + obj.phonenumber 
// parentELem.appendChild(childElem);

// const deleteButton=document.createElement('input')
// deleteButton.type="button"
// deleteButton.value="Delete"
// deleteButton.onclick = () => {
//     localStorage.removeItem(obj.email);
//     parentELem.removeChild(childElem)

// }

// childElem.appendChild(deleteButton)
// parentELem.appendChild(childElem)
// }

</script>
</body>
</html>